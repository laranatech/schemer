"use strict";var P=Object.defineProperty,k=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var d=(r,t,e)=>t in r?P(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,m=(r,t)=>{for(var e in t||(t={}))v.call(t,e)&&d(r,e,t[e]);if(j)for(var e of j(t))z.call(t,e)&&d(r,e,t[e]);return r},g=(r,t)=>k(r,V(t));var O=(r,t,e)=>d(r,typeof t!="symbol"?t+"":t,e);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const L=r=>t=>{if(t>=r)return!0;throw new Error(`${t} cannot be less than ${r}`)},C=r=>t=>{if(t<=r)return!0;throw new Error(`${t} cannot be greater than ${r}`)},R=r=>t=>{if(t===r)return!0;throw new Error(`${t} !== ${r}`)},K=r=>t=>{if(t.length>=r)return!0;throw new Error(`The value's length (${t.length}) is too short. Min: ${r}`)},U=r=>t=>{if(t.length<=r)return!0;throw new Error(`The value's length (${t.length}) is too long. Min: ${r}`)},B=r=>t=>{if(t.length===r)return!0;throw new Error(`The value's length (${t.length}) !== ${r}`)},D=()=>r=>{if(r<0)return!0;throw new Error(`Value must be negative: ${r}`)},h=()=>r=>{if(r>=0)return!0;throw new Error(`Value must be positive: ${r}`)},y=(r,t=void 0)=>{const e=new RegExp(r,t);return n=>{if(e.test(n))return!0;throw new Error(`${n} doesn't match the pattern: ${String(r)}${t?"/"+String(t):""}`)}},w=r=>t=>{if(!r.includes(t))return!0;throw new Error(`${t} is forbidden: [${r.join(", ")}]`)},l=r=>t=>{if(r.includes(t))return!0;throw new Error(`${t} is not on the list: [${r.join(", ")}]`)},G=()=>r=>{const t=`The value cannot be empty: ${r}`;if(Array.isArray(r)||typeof r=="string"){if(r.length>0)return!0;throw new Error(t)}if(typeof r=="object"){if(Object.keys(r).length>0)return!0;throw new Error(t)}throw new Error(`Invalid value type: ${typeof r}`)},c=r=>t=>Object.keys(t).filter(e=>{try{return r(e)}catch(n){return!1}}),b=(r,t)=>r.length===t.length&&r.every((e,n)=>e===t[n]),a=r=>{const t=y(/^class\s/);try{return typeof r=="function"&&t(r)}catch(e){return!1}},H=Object.freeze(Object.defineProperty({__proto__:null,compareArrays:b,filterObjectKeys:c,isClass:a},Symbol.toStringTag,{value:"Module"})),_=r=>{const t=c(l(r));return e=>{const n=t(e);if(b(n,Object.keys(e)))return!0;const u=c(w(r))(e);throw new Error(`${e} has Invalid fields: [${u.join(", ")}]`)}},J=r=>{const t=c(w(r));return e=>{const n=t(e);if(b(n,Object.keys(e)))return!0;const u=c(l(r))(e);throw new Error(`${e} has Invalid fields: [${u.join(", ")}]`)}},T=()=>{const r=y(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);return t=>{try{return r(t),!0}catch(e){throw new Error(`Invalid email: ${t}`)}}},Q=Object.freeze(Object.defineProperty({__proto__:null,allowedFields:_,allowlist:l,blockedFields:J,blocklist:w,email:T,exact:R,exactLength:B,max:C,maxLength:U,min:L,minLength:K,negative:D,notEmpty:G,positive:h,regexp:y},Symbol.toStringTag,{value:"Module"})),W=r=>{if(!Number.isNaN(r)&&typeof r=="number")return!0;throw new Error(`${r} is NaN`)},X=r=>{if(Number.isInteger(r))return!0;throw new Error(`Value must be integer: ${r}`)},Y=r=>{if(typeof r=="string")return!0;throw new Error(`${r} is not a string`)},Z=r=>{if(typeof r=="boolean")return!0;throw new Error(`${r} must be boolean`)},A=r=>{if(Array.isArray(r))return!0;throw new Error(`${r} must be an array`)},M=(r,t)=>{if(r instanceof t)return!0;throw new Error(`${r} is not an instance of ${t}`)},rr=r=>{if(typeof r=="function")return!0;throw new Error(`${r} is not a function`)},$=Object.freeze(Object.defineProperty({__proto__:null,array:A,bool:Z,func:rr,instance:M,int:X,number:W,string:Y},Symbol.toStringTag,{value:"Module"})),N=l(Object.keys($)),f=(r,t)=>t==="any"?!0:a(t)?M(r,t):(N(t),$[t](r)),S=(r,t,e="")=>(A(r),t.type instanceof E?r.every(n=>t.type.validate(n)):a(t.type)?r.every(n=>f(n,t.type)):(N(t.type),r.every((n,o)=>i(n,t,`${e}[${o}]`)))),tr=(r,t,e="")=>{if(t.nullable===!0&&r===null)return!0;if(r===null)throw new Error(`${e?e+" | ":""}Value cannot be null`);return!1},er=(r,t,e="")=>{if(t.required===!0&&r===void 0)throw new Error(`${e?e+" | ":""}Value is required`);return t.required===!1&&r===void 0},nr=(r,t="")=>{if(typeof r!="object")throw new Error(`${t?t+" | ":""}Invalid config: ${r}`);return _(["type","required","rules","nullable"])(r)},i=(r,t,e="")=>typeof t=="string"||a(t)?f(r,t):t instanceof E?t.validate(r):Array.isArray(t)&&t.length===1?S(r,{type:t[0]},e):(nr(t,e),er(r,t,e)||tr(r,t,e)?!0:Array.isArray(t.type)&&t.type.length===1?S(r,g(m({},t),{type:t.type[0]}),e):(f(r,t.type),t.rules&&t.rules.forEach(n=>n(r)),!0)),p=(r,t)=>{const e=Object.keys(t),n=Object.keys(r),o=[],u=e.filter(s=>t[s].required!==!0?!1:!n.includes(s));return u.length>0&&o.push(`Missing required fields: ${u.join(", ")}`),n.every(s=>{if(!e.includes(s)){o.push(`Unknown field: ${s}`);return}try{return i(r[s],t[s],s)}catch(F){o.push(F)}}),{success:o.length===0,errors:o}};class E{constructor(t){O(this,"schema",{});this.schema=t}validate(t){const{success:e,errors:n}=this.validateSafely(t);if(e)return!0;throw new Error(`Validation error:
${n.join(`
`)}`)}validateSafely(t){return p(t,this.schema)}}const or=(r,t,e="")=>{const n=[];try{i(r,t,e)}catch(o){n.push(o)}return{success:n.length===0,errors:n}},sr=(r,t)=>{const{success:e,errors:n}=p(r,t);if(e)return!0;throw new Error(`Validation error:
${n.join(`
`)}`)},x={type:"string",rules:[T()]},ir=r=>i(r,x),I={type:"int",rules:[h()]},ur=r=>i(r,I),q={type:"number",rules:[h()]},cr=r=>i(r,q),lr=Object.freeze(Object.defineProperty({__proto__:null,email:x,positiveInt:I,positiveNumber:q,validateEmail:ir,validatePositiveInt:ur,validatePositiveNumber:cr},Symbol.toStringTag,{value:"Module"}));exports.Schemer=E;exports.common=lr;exports.rules=Q;exports.types=$;exports.utils=H;exports.validate=i;exports.validateObject=sr;exports.validateObjectSafely=p;exports.validateSafely=or;
