"use strict";var I=Object.defineProperty,M=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var h=(r,e,t)=>e in r?I(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e)=>{for(var t in e||(e={}))N.call(e,t)&&h(r,t,e[t]);if($)for(var t of $(e))F.call(e,t)&&h(r,t,e[t]);return r},E=(r,e)=>M(r,x(e));var j=(r,e,t)=>h(r,typeof e!="symbol"?e+"":e,t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const P=r=>e=>{if(e>=r)return!0;throw new Error(`${e} cannot be less than ${r}`)},k=r=>e=>{if(e<=r)return!0;throw new Error(`${e} cannot be greater than ${r}`)},q=r=>e=>{if(e===r)return!0;throw new Error(`${e} !== ${r}`)},V=r=>e=>{if(e.length>=r)return!0;throw new Error(`The value's length (${e.length}) is too short. Min: ${r}`)},z=r=>e=>{if(e.length<=r)return!0;throw new Error(`The value's length (${e.length}) is too long. Min: ${r}`)},v=r=>e=>{if(e.length===r)return!0;throw new Error(`The value's length (${e.length}) !== ${r}`)},L=()=>r=>{if(r<0)return!0;throw new Error(`Value must be negative: ${r}`)},w=()=>r=>{if(r>=0)return!0;throw new Error(`Value must be positive: ${r}`)},m=(r,e=void 0)=>{const t=new RegExp(r,e);return n=>{if(t.test(n))return!0;throw new Error(`${n} doesn't match the pattern: ${String(r)}${e?"/"+String(e):""}`)}},y=r=>e=>{if(!r.includes(e))return!0;throw new Error(`${e} is forbidden: [${r.join(", ")}]`)},a=r=>e=>{if(r.includes(e))return!0;throw new Error(`${e} is not on the list: [${r.join(", ")}]`)},C=()=>r=>{const e=`The value cannot be empty: ${r}`;if(Array.isArray(r)||typeof r=="string"){if(r.length>0)return!0;throw new Error(e)}if(typeof r=="object"){if(Object.keys(r).length>0)return!0;throw new Error(e)}throw new Error(`Invalid value type: ${typeof r}`)},c=r=>e=>Object.keys(e).filter(t=>{try{return r(t)}catch(n){return!1}}),f=(r,e)=>r.length===e.length&&r.every((t,n)=>t===e[n]),K=Object.freeze(Object.defineProperty({__proto__:null,compareArrays:f,filterObjectKeys:c},Symbol.toStringTag,{value:"Module"})),g=r=>{const e=c(a(r));return t=>{const n=e(t);if(f(n,Object.keys(t)))return!0;const i=c(y(r))(t);throw new Error(`${t} has Invalid fields: [${i.join(", ")}]`)}},R=r=>{const e=c(y(r));return t=>{const n=e(t);if(f(n,Object.keys(t)))return!0;const i=c(a(r))(t);throw new Error(`${t} has Invalid fields: [${i.join(", ")}]`)}},O=()=>{const r=m(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);return e=>{try{return r(e),!0}catch(t){throw new Error(`Invalid email: ${e}`)}}},U=Object.freeze(Object.defineProperty({__proto__:null,allowedFields:g,allowlist:a,blockedFields:R,blocklist:y,email:O,exact:q,exactLength:v,max:k,maxLength:z,min:P,minLength:V,negative:L,notEmpty:C,positive:w,regexp:m},Symbol.toStringTag,{value:"Module"})),B=r=>{if(!Number.isNaN(r)&&typeof r=="number")return!0;throw new Error(`${r} is NaN`)},D=r=>{if(Number.isInteger(r))return!0;throw new Error(`Value must be integer: ${r}`)},G=r=>{if(typeof r=="string")return!0;throw new Error(`${r} is not a string`)},H=r=>{if(typeof r=="boolean")return!0;throw new Error(`${r} must be boolean`)},d=r=>{if(Array.isArray(r))return!0;throw new Error(`${r} must be an array`)},l=Object.freeze(Object.defineProperty({__proto__:null,array:d,bool:H,int:D,number:B,string:G},Symbol.toStringTag,{value:"Module"})),u=(r,e,t="")=>{const n=a(Object.keys(l));if(typeof e=="string")return e==="any"?!0:(n(e),l[e](r));if(Array.isArray(e)&&e.length===1)return n(e[0]),d(r)&&r.every(o=>u(o,e[0]));if(typeof e!="object")throw new Error(`${t?t+" | ":""}Invalid config: ${e}`);if(g(["type","required","rules","nullable"])(e),e.required===!0&&r===void 0)throw new Error(`${t?t+" | ":""}Value is required`);if(e.nullable===!0&&r===null)return!0;if(r===null)throw new Error(`${t?t+" | ":""}Value cannot be null`);if(Array.isArray(e.type)&&e.type.length===1){const o=E(p({},e),{type:e.type[0]});return d(r)&&r.every((i,s)=>u(i,o,`${t}[${s}]`))}return n(e.type),l[e.type](r),e.rules&&e.rules.forEach(o=>{o(r)}),!0},b=(r,e)=>{const t=Object.keys(e),n=Object.keys(r),o=[],i=t.filter(s=>e[s].required!==!0?!1:!n.includes(s));return i.length>0&&o.push(`Missing required fields: ${i.join(", ")}`),n.every(s=>{if(!t.includes(s)){o.push(`Unknown field: ${s}`);return}try{return u(r[s],e[s],s)}catch(A){o.push(A)}}),{success:o.length===0,errors:o}};class J{constructor(e){j(this,"schema",{});this.schema=e}validate(e){const{success:t,errors:n}=this.validateSafely(e);if(t)return!0;throw new Error(`Validation error:
${n.join(`
`)}`)}validateSafely(e){return b(e,this.schema)}}const Q=(r,e,t="")=>{const n=[];try{u(r,e,t)}catch(o){n.push(o)}return{success:n.length===0,errors:n}},W=(r,e)=>{const{success:t,errors:n}=b(r,e);if(t)return!0;throw new Error(`Validation error:
${n.join(`
`)}`)},S={type:"string",rules:[O()]},X=r=>u(r,S),_={type:"int",rules:[w()]},Y=r=>u(r,_),T={type:"number",rules:[w()]},Z=r=>u(r,T),rr=Object.freeze(Object.defineProperty({__proto__:null,email:S,positiveInt:_,positiveNumber:T,validateEmail:X,validatePositiveInt:Y,validatePositiveNumber:Z},Symbol.toStringTag,{value:"Module"}));exports.Schemer=J;exports.common=rr;exports.rules=U;exports.types=l;exports.utils=K;exports.validate=u;exports.validateObject=W;exports.validateObjectSafely=b;exports.validateSafely=Q;
